<link
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
  rel="stylesheet"
/>

<div class="container mt-5">
    <h2>Danh sách đơn hàng</h2>
    <div class="search-container mb-3">
    <input
      type="text"
      class="form-control search-input"
      placeholder="Tìm kiếm..."
      [(ngModel)]="searchQuery"
    />
  </div>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>ID</th>
        <th>Tên khách</th>
        <th>Địa chỉ</th>
        <th>SĐT</th>
        <th>Ngày đặt</th>
        <th>Email</th>
        <th>Trạng thái</th>
        <th>Thao tác</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let donhang of filteredOrders"> <!-- This line uses ngFor -->
        <td>{{ donhang.dh_id }}</td>
        <td>{{ donhang.dh_tenkh }}</td>
        <td>{{ donhang.dh_diachi }}</td>
        <td>{{ donhang.dh_sdt }}</td>
        <td>{{ donhang.dh_ngaydat }}</td>
        <td>{{ donhang.dh_emailkh }}</td>
        <td>{{ donhang.trangthaiDH.trangthaidh_ten}}</td>
        <td>
          <button 
            *ngIf="donhang.trangthaiDH.trangthaidh_id === 1" 
            class="btn btn-danger" 
            (click)="cancelDonHang(donhang.dh_id!)"
            style="margin-right: 5px; padding: 5px; display: inline-flex; align-items: center; justify-content: center;">
            <i class="bi bi-trash"></i>
          </button>
          <button class="btn btn-info" (click)="viewDetails(donhang.dh_id!)"
            style="padding: 5px; display: inline-flex; align-items: center; justify-content: center;">
            <i class="bi bi-info-circle"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
  